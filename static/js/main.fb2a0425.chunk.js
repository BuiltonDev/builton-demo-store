(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{140:function(e,t,a){},141:function(e,t,a){},145:function(e,t,a){},146:function(e,t,a){},147:function(e,t,a){},148:function(e,t,a){},149:function(e,t,a){},150:function(e,t,a){},151:function(e,t,a){},154:function(e,t,a){},155:function(e,t,a){},156:function(e,t,a){},157:function(e,t,a){},158:function(e,t,a){},159:function(e,t,a){},160:function(e,t,a){},161:function(e,t,a){},162:function(e,t,a){},165:function(e,t,a){},166:function(e,t,a){},167:function(e,t,a){},168:function(e,t,a){},169:function(e,t,a){},170:function(e,t,a){},171:function(e,t,a){},172:function(e,t,a){},177:function(e,t,a){},178:function(e,t,a){},180:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(26),o=a.n(c),l=a(3),i=a(75),s=a(25),u=a(24),m=(a(82),a(8)),d=a(4),p=a.n(d),h=a(7),f=a(63),v=a.n(f),E=a(27),b=a(5),g=function(e){return function(){try{localStorage.removeItem("builton-demo-".concat(e))}catch(t){throw t}}},y=function(e){return function(t){try{localStorage.setItem("builton-demo-".concat(e),JSON.stringify(t))}catch(a){throw a}}},k=function(e){return function(){var t=null;try{t=JSON.parse(localStorage.getItem("builton-demo-".concat(e)))}catch(a){throw a}return t}},N=!1,w={0:{title:"bag",complete:!1},1:{title:"authentication",complete:!1},2:{title:"payment_method",complete:!1},3:{title:"delivery_address",complete:!1},4:{title:"confirm",complete:!1}},O={items:[],delivery_address:"",payment_method:""},j=g("user"),x=k("user"),S=y("user"),C=g("builtonSession"),P=k("builtonSession"),A=y("builtonSession"),_=g("bag"),D=k("bag"),z=y("bag"),M=g("checkout"),F=k("checkout"),B=y("checkout"),L=g("order"),R=k("order"),H=y("order");Object(b.addReducer)("updateUser",function(e,t,a){return(!(arguments.length>3&&void 0!==arguments[3])||arguments[3])&&S(a),{user:a}}),Object(b.addReducer)("addItemToBag",function(e,t,a){return z([].concat(Object(E.a)(D()||[]),[a])),{bag:Object(E.a)(D()||[])}}),Object(b.addReducer)("clearBag",function(e,t){return z(null),{bag:null}}),Object(b.addReducer)("updateCheckoutStep",function(e,t,a){return B(a),{checkout:a}}),Object(b.addReducer)("updateOrder",function(e,t,a){return H(a),{order:a}}),Object(b.addReducer)("updatePaymentMethod",function(e,t,a){return{paymentMethod:a}}),Object(b.addReducer)("updateBuiltonSession",function(e,t,a){return(!(arguments.length>3&&void 0!==arguments[3])||arguments[3])&&A(a),{builtonSession:a}}),Object(b.addReducer)("removeItemFromBag",function(e,t,a){for(var n=D(),r=0;r<n.length;r+=1)if(n[r].size._id.$oid===a){n.splice(r,1);break}return z(n),{bag:n}}),Object(b.addReducer)("clearCheckout",function(){var e=Object(h.a)(p.a.mark(function e(t,a){return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.updateOrder(O);case 2:return e.next=4,a.updatePaymentMethod(null);case 4:return e.next=6,a.updateCheckoutStep(w);case 6:case"end":return e.stop()}},e)}));return function(t,a){return e.apply(this,arguments)}}()),Object(b.addReducer)("logout",function(){var e=Object(h.a)(p.a.mark(function e(t,a){return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.updateUser(null,!1);case 2:return e.next=4,a.updateBuiltonSession(null,!1);case 4:return e.next=6,a.updateOrder(O);case 6:return e.next=8,a.updatePaymentMethod(null);case 8:return e.next=10,a.clearCheckout();case 10:case"end":return e.stop()}},e)}));return function(t,a){return e.apply(this,arguments)}}());var T={init:function(){if(N)console.log("Authentication already initialized");else{var e={user:null,builtonSession:null,bag:null,order:O,paymentMethod:null,checkout:w};try{e={user:x(),builtonSession:P(),bag:D(),checkout:F()||w,order:R()||O,paymentMethod:null}}catch(t){j(),C(),_()}Object(b.setGlobal)(e),N=!0}},updateSession:function(e){A(e)},clear:function(){!function(){for(var e=localStorage.length-1;e>=0;e--)localStorage.key(e).startsWith("builton-demo-")&&localStorage.removeItem(localStorage.key(e))}(),Object(b.resetGlobal)()},logout:function(){var e=Object(h.a)(p.a.mark(function e(){return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return j(),C(),L(),M(),e.next=6,Object(b.getDispatch)().logout();case 6:N=!1;case 7:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}()},U=a(49),G=a.n(U),I=(a(134),a(64));G.a.initializeApp({apiKey:I.firebase.apiKey,authDomain:I.firebase.authDomain});var J=G.a;T.init();var K=k("builtonSession")(),Q=new v.a(Object(m.a)({},K&&{bearerToken:K},{refreshTokenFn:function(){return new Promise(function(){var e=Object(h.a)(p.a.mark(function e(t,a){var n,r,c;return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(n=J.auth().currentUser)){e.next=8;break}return e.next=4,n.getIdToken();case 4:r=e.sent,t(r),e.next=9;break;case 8:c=J.auth().onAuthStateChanged(function(){var e=Object(h.a)(p.a.mark(function e(n){var r,o;return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(c(),!n){e.next=8;break}return e.next=4,n.getIdToken();case 4:r=e.sent,t(r),e.next=10;break;case 8:o=new Error("User is not authenticated"),a(o);case 10:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}());case 9:case"end":return e.stop()}},e)}));return function(t,a){return e.apply(this,arguments)}}())},endpoint:I.endpoint,apiKey:I.apiKey})),V=a(9),q=a.n(V),W=function(e){var t=e.width,a=e.height;return r.a.createElement("svg",{width:t,height:a,x:"0px",y:"0px",viewBox:"0 0 753.24 190.98"},r.a.createElement("rect",{x:"351.3",className:"st0",width:"34.72",height:"63.18"}),r.a.createElement("path",{style:{fill:"#FB6B40"},d:"M63.62,156.35c-15.99,0-28.99-13.01-28.99-28.99H0c0,35.08,28.54,63.62,63.62,63.62s63.62-28.54,63.62-63.62\nH92.62C92.62,143.34,79.61,156.35,63.62,156.35z"}),r.a.createElement("rect",{x:"409.02",y:"63.18",style:{fill:"#FB6B40"},width:"34.64",height:"63.18"}),r.a.createElement("rect",{x:"235.89",y:"63.18",style:{fill:"#FB6B40"},width:"34.64",height:"63.18"}),r.a.createElement("rect",{x:"625.89",y:"126.35",style:{fill:"#FB6B40"},width:"34.64",height:"63.18"}),r.a.createElement("rect",{x:"293.65",y:"126.35",style:{fill:"#FB6B40"},width:"34.64",height:"63.18"}),r.a.createElement("polygon",{style:{fill:"#1A172F"},points:"443.85,0 409.12,0 409.12,34.72 409.16,34.72 409.16,63.18 472.34,63.18 472.34,34.72 443.85,34.72\n"}),r.a.createElement("polygon",{style:{fill:"#1A172F"},points:"0.07,64.08 0.07,127.25 34.57,127.25 34.57,64.08 34.57,0.9 0.07,0.9 \t\t"}),r.a.createElement("path",{style:{fill:"#1A172F"},d:"M547.95,155.35c-15.99,0-28.99-13.01-28.99-28.99h-34.63c0,35.08,28.54,63.62,63.62,63.62\ns63.62-28.54,63.62-63.62h-34.63C576.95,142.34,563.94,155.35,547.95,155.35z"}),r.a.createElement("rect",{x:"143.28",y:"63.18",style:{fill:"#1A172F"},width:"34.64",height:"63.18"}),r.a.createElement("path",{style:{fill:"#1A172F"},d:"M689.62,62.73c-35.08,0-63.62,28.54-63.62,63.62h34.63c0-15.99,13.01-28.99,29-28.99\nc15.99,0,28.99,13.01,28.99,28.99h34.63C753.24,91.27,724.7,62.73,689.62,62.73z"}),r.a.createElement("rect",{x:"293.65",y:"63.18",style:{fill:"#1A172F"},width:"34.64",height:"63.18"}),r.a.createElement("rect",{x:"351.3",y:"126.35",style:{fill:"#1A172F"},width:"34.72",height:"63.18"}),r.a.createElement("rect",{x:"293.61",style:{fill:"#AA9AF0"},width:"34.72",height:"34.72"}),r.a.createElement("path",{style:{fill:"#AA9AF0"},d:"M206.91,155.35c-15.99,0-28.99-13.01-28.99-28.99h-34.63c0,35.08,28.54,63.62,63.62,63.62\nc35.08,0,63.62-28.54,63.62-63.62H235.9C235.9,142.34,222.9,155.35,206.91,155.35z"}),r.a.createElement("path",{style:{fill:"#AA9AF0"},d:"M547.95,62.83c-35.08,0-63.62,28.54-63.62,63.62h34.63c0-15.99,13.01-28.99,28.99-28.99\ns28.99,13.01,28.99,28.99h34.63C611.57,91.37,583.03,62.83,547.95,62.83z"}),r.a.createElement("path",{style:{fill:"#AA9AF0"},d:"M443.65,126.35h-34.63c0,35.08,28.54,63.62,63.62,63.62v-34.63C456.66,155.35,443.65,142.34,443.65,126.35z"}),r.a.createElement("rect",{x:"718.5",y:"126.35",style:{fill:"#AA9AF0"},width:"34.64",height:"63.18"}),r.a.createElement("rect",{x:"351.3",y:"63.18",style:{fill:"#AA9AF0"},width:"34.72",height:"63.18"}),r.a.createElement("path",{style:{fill:"#AA9AF0"},d:"M63.62,63.73C28.54,63.73,0,92.27,0,127.35h34.63c0-15.99,13.01-28.99,28.99-28.99s28.99,13.01,28.99,28.99\nh34.63C127.25,92.27,98.7,63.73,63.62,63.73z"}))};W.defaultProps={width:320,height:390};var Z=W,X=a(1),Y=a.n(X),$=(a(140),function(e){var t=e.style;return r.a.createElement("div",{className:"top-header-title-container",style:t},r.a.createElement(Z,{width:82,height:36}),r.a.createElement("span",{className:"demo-store-title"},"Demo store"))});$.defaultProps={style:Y.a.obj};var ee=$,te=(a(141),a(31)),ae=(a(145),function(e){var t=e.children,a=e.open,c=e.style,o=Object(n.useRef)(null),l=Object(n.useRef)(null);return Object(n.useEffect)(function(){setTimeout(function(){a?o.current.classList.add("show-action"):l.current&&(l.current.state.isActive||o.current.classList.remove("show-action"))},50)}),r.a.createElement(te.b,{ref:l,hoverOffDelayInMs:50,activationInteractionMouse:te.a.HOVER,activationInteractionTouch:te.a.TAP,onActivationChanged:function(e){var t=e.isActive;o&&o.current&&(t?o.current.classList.add("show-action"):o.current.classList.remove("show-action"))}},r.a.createElement("div",{ref:o,className:"header-action-container",style:c},t))});ae.defaultProps={open:!1};var ne=ae,re=function(e){var t=e.height,a=e.width,n=e.color;return r.a.createElement("svg",{width:a,height:t,viewBox:"0 0 24 24"},r.a.createElement("path",{fill:"none",d:"M0 0h24v24H0V0z"}),r.a.createElement("path",{fill:n,d:"M7 18c-1.1 0-1.99.9-1.99 2S5.9 22 7 22s2-.9 2-2-.9-2-2-2zM1 3c0 .55.45 1 1 1h1l3.6 7.59-1.35 2.44C4.52 15.37 5.48 17 7 17h11c.55 0 1-.45 1-1s-.45-1-1-1H7l1.1-2h7.45c.75 0 1.41-.41 1.75-1.03l3.58-6.49c.37-.66-.11-1.48-.87-1.48H5.21l-.67-1.43c-.16-.35-.52-.57-.9-.57H2c-.55 0-1 .45-1 1zm16 15c-1.1 0-1.99.9-1.99 2s.89 2 1.99 2 2-.9 2-2-.9-2-2-2z"}))};re.defaultProps={width:24,height:24,color:"black"};var ce=re,oe=function(e){var t=e.height,a=e.width,n=e.color;return r.a.createElement("svg",{width:a,height:t,viewBox:"0 0 24 24"},r.a.createElement("path",{fill:"none",d:"M0 0h24v24H0V0z"}),r.a.createElement("path",{fill:n,d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"}))};oe.defaultProps={width:24,height:24,color:"black"};var le=oe,ie=function(e){var t=e.height,a=e.width,n=e.color;return r.a.createElement("svg",{width:a,height:t,viewBox:"0 0 24 24"},r.a.createElement("path",{fill:"none",d:"M0 0h24v24H0V0z"}),r.a.createElement("path",{fill:n,d:"M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z"}))};ie.defaultProps={width:24,height:24,color:"black"};var se=ie,ue=function(e){var t=e.height,a=e.width,n=e.color;return r.a.createElement("svg",{width:a,height:t,viewBox:"0 0 24 24"},r.a.createElement("path",{fill:n,d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"}),r.a.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}))};ue.defaultProps={width:24,height:24,color:"black"};var me=ue,de=(a(146),function(e){var t=e.children;return r.a.createElement("div",{className:"dropdown-menu-container"},t)}),pe=(a(147),function(e){var t=e.onClick,a=e.children;return r.a.createElement("div",{className:"dropdown-menu-item",onClick:t},a)}),he=function(e){var t=e.height,a=e.width,n=e.color;return r.a.createElement("svg",{width:a,height:t,viewBox:"0 0 24 24"},r.a.createElement("path",{fill:"none",d:"M0 0h24v24H0V0z"}),r.a.createElement("path",{fill:n,d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zM7.07 18.28c.43-.9 3.05-1.78 4.93-1.78s4.51.88 4.93 1.78C15.57 19.36 13.86 20 12 20s-3.57-.64-4.93-1.72zm11.29-1.45c-1.43-1.74-4.9-2.33-6.36-2.33s-4.93.59-6.36 2.33C4.62 15.49 4 13.82 4 12c0-4.41 3.59-8 8-8s8 3.59 8 8c0 1.82-.62 3.49-1.64 4.83zM12 6c-1.94 0-3.5 1.56-3.5 3.5S10.06 13 12 13s3.5-1.56 3.5-3.5S13.94 6 12 6zm0 5c-.83 0-1.5-.67-1.5-1.5S11.17 8 12 8s1.5.67 1.5 1.5S12.83 11 12 11z"}))};he.defaultProps={width:24,height:24,color:"black"};var fe=he,ve=function(e){var t=e.height,a=e.width,n=e.color;return r.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:a,height:t,viewBox:"0 0 24 24"},r.a.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}),r.a.createElement("path",{fill:n,d:"M10.09 15.59L11.5 17l5-5-5-5-1.41 1.41L12.67 11H3v2h9.67l-2.58 2.59zM19 3H5c-1.11 0-2 .9-2 2v4h2V5h14v14H5v-4H3v4c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2z"}))};ve.defaultProps={width:24,height:24,color:"black"};var Ee=ve,be=function(e){if(~e.indexOf("-")){var t=e.indexOf("-");return e.substr(0,t).trim()}return e},ge=function(e){return e.short_description.slice(e.short_description.toLowerCase().indexOf("size - ")+"size - ".length)},ye=function(e){var t=e.height,a=e.width,n=e.color;return r.a.createElement("svg",{width:a,height:t,viewBox:"0 0 24 24"},r.a.createElement("path",{fill:"none",d:"M0 0h24v24H0V0z"}),r.a.createElement("path",{fill:n,d:"M.71 1.83c-.39.39-.39 1.02 0 1.41l3.68 3.68 2.21 4.66-1.35 2.45c-.19.33-.28.73-.24 1.15.1 1.06 1.06 1.82 2.12 1.82h7.33l1.38 1.38c-.5.36-.83.95-.83 1.62 0 1.1.89 2 1.99 2 .67 0 1.26-.33 1.62-.84l2.13 2.13c.39.39 1.02.39 1.41 0 .39-.39.39-1.02 0-1.41L2.12 1.83c-.39-.39-1.02-.39-1.41 0zM7 15l1.1-2h2.36l2 2H7zm9.05-2.06c.54-.14.99-.49 1.25-.97l3.58-6.49C21.25 4.82 20.76 4 20 4H7.12l8.93 8.94zM7 18c-1.1 0-1.99.9-1.99 2S5.9 22 7 22s2-.9 2-2-.9-2-2-2z"}))};ye.defaultProps={width:24,height:24,color:"black"};var ke=ye,Ne=(a(148),a(149),function(e){var t=e.width,a=e.height;return r.a.createElement("div",{className:"loader",style:{width:t,height:a}})});Ne.defaultProps={width:24,height:24};var we=Ne,Oe=function(e){var t=e.loading,a=e.type,n=e.style,c=e.className,o=e.title,l=e.onClick;return r.a.createElement("button",{disabled:t,type:a,style:n,className:c,onClick:l},t?r.a.createElement(we,null):r.a.createElement("span",null,o))};Oe.defaultProps={type:"submit",className:"button"};var je=Oe,xe=(a(150),function(){return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)}),Se=function(){var e=Object(n.useState)(!1),t=Object(l.a)(e,2),a=t[0],c=t[1],o=Object(n.useState)(!1),i=Object(l.a)(o,2),s=i[0],u=i[1],m=Object(n.useState)(!1),d=Object(l.a)(m,2),p=d[0],h=d[1],f=Object(b.useGlobal)("user"),v=Object(l.a)(f,1)[0],E=Object(b.useGlobal)("bag"),g=Object(l.a)(E,1)[0],y=Object(b.useDispatch)("removeItemFromBag"),k=q()().history;Object(n.useEffect)(function(){document.body.style.overflow=p?"hidden":"auto"},[p]);var N=function(){return r.a.createElement(de,null,g&&g.length>0?r.a.createElement(r.a.Fragment,null,g.map(function(e,t){return r.a.createElement(pe,{key:"bag-product-".concat(e.size._id.$oid).concat(t),onClick:function(){return k.push("/product_list/".concat(e.category,"/").concat(e.product._id.$oid))}},r.a.createElement("div",{className:"bag-product-row"},r.a.createElement("div",null,e.product.name),r.a.createElement("div",null,"Size ".concat(ge(e.size))),r.a.createElement("div",null,e.product.price," ",e.product.currency),r.a.createElement("div",{className:"remove-bag-item",onClick:function(t){return function(e,t){t.stopPropagation(),y(e)}(e.size._id.$oid,t)}},r.a.createElement(ke,{color:"#c5c5c5"}))))}),r.a.createElement("div",{className:"header-checkout-container"},r.a.createElement(je,{onClick:function(){k.push("/checkout/bag")},type:"button",className:"button round",title:"Proceed to checkout",style:{padding:"4px 12px",height:40,fontSize:"0.72rem"}}),r.a.createElement("div",{className:"header-bag-amount"},function(){for(var e=0,t=0;t<g.length;t+=1)e+=g[t].product.price;return e}()," ",g[0].product.currency))):r.a.createElement("div",{className:"empty-bag-container"},"No items in the bag."))};return r.a.createElement("div",{className:"main-menu-container"},r.a.createElement("div",{className:"top-header-menu-container"},r.a.createElement("a",{className:"header-box-hyperlink",href:"https://builton.dev",rel:"noopener noreferrer",target:"_blank"},r.a.createElement("span",null,"Website")),r.a.createElement("a",{className:"header-box-hyperlink",href:"https://docs.builton.dev",rel:"noopener noreferrer",target:"_blank"},r.a.createElement("span",null,"Docs")),r.a.createElement("a",{className:"header-box-hyperlink",href:"https://dashboard.builton.dev/",rel:"noopener noreferrer",target:"_blank"},r.a.createElement("span",null,"Dashboard")),r.a.createElement("a",{className:"header-box-hyperlink",href:"https://github.com/BuiltonDev/builton-demo-store",rel:"noopener noreferrer",target:"_blank"},r.a.createElement("span",null,"Github")),r.a.createElement("span",{className:"dropdown-container"},r.a.createElement(r.a.Fragment,null,r.a.createElement("button",{className:"header-box-hyperlink",onClick:function(e){v||k.push("/auth"),v&&e.preventDefault()},onMouseEnter:function(){v&&u(!0)},onMouseLeave:function(){v&&u(!1)}},r.a.createElement("span",null,v?r.a.createElement("div",null,v.email):r.a.createElement(me,{width:18,height:18,color:"black"}))),r.a.createElement("button",{type:"button",className:"header-box-hyperlink cart",onClick:function(){return xe()&&c(!a)},onMouseEnter:function(){return!xe()&&c(!0)},onMouseLeave:function(){return!xe()&&c(!1)}},r.a.createElement("span",null,r.a.createElement(ce,{width:18,height:18,color:"black"})," ",r.a.createElement("span",{className:"cart-count"},g&&g.length||0))),r.a.createElement(ne,{open:s},r.a.createElement(de,null,r.a.createElement(pe,{onClick:function(){k.push("/my-account/my-profile")}},r.a.createElement("span",null,"My Account"),r.a.createElement(fe,{color:"#c5c5c5"})),r.a.createElement(pe,{onClick:function(){T.logout(),k.push("/")}},r.a.createElement("span",null,"Logout"),r.a.createElement(Ee,{color:"#c5c5c5"})))))),r.a.createElement(ne,{open:a},N())),r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"responsive-actions-container"},r.a.createElement("button",{type:"button",className:"header-box-hyperlink cart",onMouseEnter:function(){return c(!0)},onMouseLeave:function(){return c(!1)}},r.a.createElement("span",null,r.a.createElement(ce,{width:18,height:18,color:"black"})," ",r.a.createElement("span",{className:"cart-count"},g&&g.length||0))),r.a.createElement(ne,{open:a},N()),r.a.createElement("div",{className:"menu-button-container"},r.a.createElement("div",{className:"menu-button",onClick:function(){return h(!p)}},p?r.a.createElement(le,null):r.a.createElement(se,null)))),r.a.createElement("div",{className:"responsive-menu ".concat(p?"responsive-menu-open":"responsive-menu-closed")},v&&r.a.createElement("div",{className:"internal-menu-items"},r.a.createElement("div",{className:"header-title"},v.email),r.a.createElement("button",{className:"header-box-hyperlink",onClick:function(e){e.preventDefault(),h(!1),k.push("/my-account/my-profile")},rel:"noopener noreferrer",target:"_blank"},r.a.createElement("span",null,"My Account")),r.a.createElement("button",{className:"header-box-hyperlink",onClick:function(e){e.preventDefault(),h(!1),T.logout(),k.push("/")},rel:"noopener noreferrer",target:"_blank"},r.a.createElement("span",null,"Log out"))),!v&&r.a.createElement("div",{className:"internal-menu-items"},r.a.createElement("button",{className:"header-box-hyperlink",onClick:function(e){e.preventDefault(),k.push("/auth")}},"Log in")),r.a.createElement("div",{className:"external-menu-items"},r.a.createElement("div",null,r.a.createElement("a",{href:"https://builton.dev",rel:"noopener noreferrer",target:"_blank"},r.a.createElement("span",null,"Website"))),r.a.createElement("div",null,r.a.createElement("a",{href:"https://docs.builton.dev",rel:"noopener noreferrer",target:"_blank"},r.a.createElement("span",null,"Docs"))),r.a.createElement("div",null,r.a.createElement("a",{href:"https://dashboard.builton.dev/",rel:"noopener noreferrer",target:"_blank"},r.a.createElement("span",null,"Dashboard"))),r.a.createElement("div",null,r.a.createElement("a",{href:"https://github.com/BuiltonDev/builton-demo-store",rel:"noopener noreferrer",target:"_blank"},r.a.createElement("span",null,"Github"))))),r.a.createElement("div",{className:"responsive-menu-backdrop ".concat(p?"backdrop-open":"backdrop-close"),onClick:function(){return h(!1)}})))},Ce=r.a.memo(function(){var e=q()().history;return r.a.createElement("div",{className:"header-container"},r.a.createElement("div",{className:"header-logo-container",onClick:function(){return e.push("/")}},r.a.createElement(ee,null)),r.a.createElement(Se,null))}),Pe=(a(151),function(e){var t=e.imageSrc,a=e.category,c=e.onLoad,o=(e.style,e.onClick),l=e.pageLoaded,i=0,s=0,u=Object(n.useRef)(null);return r.a.createElement(te.b,{className:"".concat(l?"show-category":"hide-category"),onPositionChanged:function(e){return function(e){if(e.elementDimensions){var t=e.elementDimensions.width/2,a=e.elementDimensions.height/2;i=-1*(t-e.position.x)/60,s=-1*(a-e.position.y)/60,u.current.style.transform="translate(".concat(i,"px, ").concat(s,"px) scale(1.02)")}else u.current.style.transform="translate(0px, 0px) scale(1)"}(e)}},r.a.createElement("div",{onClick:o,className:"category-container ".concat(a,"-container")},r.a.createElement("div",{className:"category-title ".concat(a,"-title")},a.toUpperCase()),r.a.createElement("img",{onLoad:c,ref:u,className:"category-image",src:t,alt:"".concat(a,"-illustration")})))}),Ae=a(39),_e=function(e,t){Object(Ae.b)(e,Object(m.a)({position:"top-right",autoClose:5e3,hideProgressBar:!0,closeOnClick:!0,pauseOnHover:!0,draggable:!0},t))},De=(a(154),a(155),function(e){var t=e.show,a=e.backgroundColor;return r.a.createElement("div",{className:"splash-container ".concat(t?"show-splash":"hide-splash"),style:{backgroundColor:a}},r.a.createElement("div",{className:"splash-content-container"},r.a.createElement(Z,{width:240,height:92}),r.a.createElement("div",{className:"splash-subtitle"},"Sneakers Demo Store"),r.a.createElement("div",{className:"spinner-container"},r.a.createElement(we,{width:36,height:36}))))});De.defaultProps={show:!0,backgroundColor:"transparent"};var ze=De,Me=Object(s.withRouter)(function(){var e=Object(n.useState)([]),t=Object(l.a)(e,2),a=t[0],c=t[1],o=Object(n.useState)({}),i=Object(l.a)(o,2),s=i[0],u=i[1],d=Object(n.useState)(!1),f=Object(l.a)(d,2),v=f[0],E=f[1],b=q()().history,g=function(){var e=Object(h.a)(p.a.mark(function e(){var t;return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Q.products.get({urlParams:{tags:"category"}});case 3:t=e.sent,c(t),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),_e("Failed to load products",{type:"error"});case 10:return e.abrupt("return",!1);case 11:case"end":return e.stop()}},e,null,[[0,7]])}));return function(){return e.apply(this,arguments)}}();return Object(n.useEffect)(function(){g()},[]),Object(n.useEffect)(function(){if(a){for(var e={},t=0;t<a.length;t+=1)e[a[t].name.toLowerCase()]={title:a[t].name.toLowerCase(),image:a[t].image_url,loaded:!1};u(e)}},[a]),Object(n.useEffect)(function(){if(Object.keys(s).length>0){for(var e=!0,t=Object.values(s),a=0;a<t.length;a+=1)if(!t[a].loaded){e=!1;break}e&&E(!0)}},[s]),r.a.createElement("div",{className:"main-container"},r.a.createElement(Ce,null),r.a.createElement("div",{className:"wrapper"},r.a.createElement("div",{className:"home-wrapper"},r.a.createElement(ze,{show:!v}),Object.keys(s).length>0&&r.a.createElement(r.a.Fragment,null,r.a.createElement(Pe,{pageLoaded:v,onLoad:function(){return u(Object(m.a)({},s,{adidas:Object(m.a)({},s.adidas,{loaded:!0})}))},onClick:function(){return b.push("product_list/".concat(s.adidas.title))},imageSrc:"".concat(I.endpoint,"images/").concat(s.adidas.image,"?api_key=").concat(I.apiKey),category:s.adidas.title}),r.a.createElement("div",{className:"inner-wrapper"},r.a.createElement(Pe,{pageLoaded:v,onLoad:function(){return u(Object(m.a)({},s,{nike:Object(m.a)({},s.nike,{loaded:!0})}))},onClick:function(){return b.push("product_list/".concat(s.nike.title))},imageSrc:"".concat(I.endpoint,"images/").concat(s.nike.image,"?api_key=").concat(I.apiKey),category:s.nike.title}),r.a.createElement(Pe,{pageLoaded:v,onLoad:function(){return u(Object(m.a)({},s,{puma:Object(m.a)({},s.puma,{loaded:!0})}))},onClick:function(){return b.push("product_list/".concat(s.puma.title))},imageSrc:"".concat(I.endpoint,"images/").concat(s.puma.image,"?api_key=").concat(I.apiKey),category:s.puma.title}))))))}),Fe=(a(156),a(19)),Be=(a(157),function(e){var t,a=e.inputProps,c=e.submitting,o=e.placeholder,l=e.id,i=e.colorScheme,s=e.debounce,u=e.leftAdornment,d=e.loading;return Object(n.useEffect)(function(){"undefined"!==typeof a.value&&""!==a.value&&document.getElementById(l).parentNode.classList.add("input--filled")}),r.a.createElement(r.a.Fragment,null,u&&r.a.createElement("div",{className:"left-adornment"},u),r.a.createElement("input",Object.assign({},a,{disabled:c,onChange:function(e){return function(e,a){a.onChange&&(s?(e.persist(),void 0!==e.target.value&&(t&&clearTimeout(t),t=setTimeout(function(){a.onChange(e.target.value)},s))):a.onChange(e.target.value,e)),e.target.value?e.target.parentNode.classList.add("input--filled"):e.target.parentNode.classList.remove("input--filled")}(e,a)},className:"input__field",id:l,style:Object(m.a)({},u&&{paddingLeft:28})})),r.a.createElement("label",{className:"input__label input__label-color-".concat(i),htmlFor:l,style:Object(m.a)({},u&&{paddingLeft:28,top:10})},r.a.createElement("div",{className:"input-loading-container ".concat(d?"input-loading":"")},r.a.createElement("div",{className:"input-loading-1"}),r.a.createElement("div",{className:"input-loading-2"}),r.a.createElement("div",{className:"input-loading-3"}),r.a.createElement("div",{className:"input-loading-4"})),r.a.createElement("span",{className:"input__label-content"},o)))});Be.defaultProps={loading:!1};var Le=Be,Re=(a(158),function(e){var t=e.onClick,a=e.title;return r.a.createElement("button",{type:"button",className:"link-button",onClick:t},a)}),He=function(){var e=Object(h.a)(p.a.mark(function e(){var t,a,n;return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=new Promise(function(e,t){var a=J.auth().currentUser;if(a)e(a);else var n=J.auth().onAuthStateChanged(function(a){if(n(),a)e(a);else{var r=new Error("User is not authenticated");t(r)}})}),e.prev=1,e.next=4,t;case 4:return a=e.sent,e.next=7,a.getIdToken();case 7:return n=e.sent,e.next=10,Q.refreshBearerToken(n);case 10:return e.abrupt("return",n);case 13:return e.prev=13,e.t0=e.catch(1),e.abrupt("return",new Error("Failed to get idToken"));case 16:case"end":return e.stop()}},e,null,[[1,13]])}));return function(){return e.apply(this,arguments)}}(),Te=function(e){var t=e.onAuth,a=Object(n.useState)("login"),c=Object(l.a)(a,2),o=c[0],i=c[1],s=Object(b.useDispatch)("updateUser"),u=Object(b.useDispatch)("updateBuiltonSession"),d=function(e){var t=e.name;return r.a.createElement("div",{className:"form-error-container"},r.a.createElement(Fe.a,{name:t,subscription:{error:!0,touched:!0}},function(e){var t=e.meta,a=t.error,n=t.touched;return a&&n?r.a.createElement("span",null,a):null}))},f=function(){var e=Object(h.a)(p.a.mark(function e(a){var n,r;return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,"register"!==o){e.next=6;break}return e.next=4,J.auth().createUserWithEmailAndPassword(a.email,a.password);case 4:e.next=8;break;case 6:return e.next=8,J.auth().signInWithEmailAndPassword(a.email,a.password);case 8:return e.next=10,He();case 10:return n=e.sent,e.next=13,u(n);case 13:if("register"!==o){e.next=19;break}return e.next=16,Q.users.authenticate({body:{email:a.email,first_name:"",last_name:""}});case 16:r=e.sent,e.next=22;break;case 19:return e.next=21,Q.users.setMe().get();case 21:r=e.sent;case 22:return e.next=24,s(r);case 24:if(r){e.next=26;break}throw new d("Missing user data");case 26:t(),e.next=32;break;case 29:e.prev=29,e.t0=e.catch(0),_e("Failed to ".concat("login"===o?"Login":"Register",". Please try again."),{type:"error"});case 32:case"end":return e.stop()}},e,null,[[0,29]])}));return function(t){return e.apply(this,arguments)}}();return r.a.createElement(Fe.b,{onSubmit:f,validate:function(e){return function(e){var t={};return"register"===o&&(e.email||(t.email="Required"),e.password||(t.password="Required"),e.confirmPassword||(t.confirmPassword="Required"),e.confirmPassword!==e.password&&(t.confirmPassword="Passwords do not match")),t}(e)}},function(e){var t=e.handleSubmit,a=e.submitting;return r.a.createElement("form",{onSubmit:t,className:"form-container"},r.a.createElement("div",{className:"input"},r.a.createElement(Fe.a,{name:"email",type:"email",render:function(e){var t=e.input;return r.a.createElement(Le,{id:"input-1",inputProps:Object(m.a)({},t,{autoComplete:"username email"}),submitting:a,colorScheme:1,placeholder:"Email"})}}),r.a.createElement(d,{name:"email"})),r.a.createElement("div",{className:"input"},r.a.createElement(Fe.a,{name:"password",type:"password",render:function(e){var t=e.input;return r.a.createElement(Le,{id:"input-2",inputProps:Object(m.a)({},t,{autoComplete:"new-password"}),submitting:a,colorScheme:2,placeholder:"Password"})}}),r.a.createElement(d,{name:"password"})),r.a.createElement("div",{className:"input input ".concat("register"===o?"show-field":"hide-field")},r.a.createElement(Fe.a,{name:"confirmPassword",type:"password",autoComplete:"new-password",render:function(e){var t=e.input;return r.a.createElement(Le,{id:"input-3",inputProps:Object(m.a)({},t,{autoComplete:"new-password"}),submitting:a,colorScheme:2,placeholder:"Confirm Password"})}}),r.a.createElement(d,{name:"confirmPassword"})),r.a.createElement("div",{className:"buttons"},r.a.createElement(Re,{onClick:function(){return i("register"===o?"login":"register")},title:"register"===o?"Login":"Register"}),r.a.createElement(je,{type:"submit",className:"button round",loading:a,title:"register"===o?"Register":"Login"})))})},Ue=Object(s.withRouter)(function(){var e=q()().history;return r.a.createElement("div",{className:"wrapper"},r.a.createElement(ee,{style:{position:"absolute",top:12,left:48}}),r.a.createElement("div",{className:"paper-container"},r.a.createElement(Te,{onAuth:function(){e.push("/")}})))}),Ge=(a(159),a(183)),Ie=a(182),Je=a(70),Ke=a.n(Je),Qe=a(71),Ve=a.n(Qe),qe=a(72),We=a.n(qe),Ze=(a(160),function(e){var t=e.children;return r.a.createElement("div",{className:"footer"},t)}),Xe=(a(161),function(e){var t=e.height,a=e.width,n=e.color;return r.a.createElement("svg",{width:a,height:t,viewBox:"0 0 24 24"},r.a.createElement("path",{fill:n,d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"}),r.a.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}))});Xe.defaultProps={width:24,height:24,color:"black"};var Ye=Xe,$e=function(e){var t=e.searchLoading,a=e.onSearchChange,n=e.brandLogo,c=e.show;return r.a.createElement("div",{className:"page-heading ".concat(c?"show-heading":"")},r.a.createElement("div",{className:"search-container"},r.a.createElement(Le,{loading:t,leftAdornment:r.a.createElement(Ye,{width:22,height:22,color:"rgb(141, 141, 141)"}),inputProps:{type:"text",name:"product-search",onChange:function(e){a(e)}},placeholder:"Search",debounce:1e3,colorScheme:1})),n&&r.a.createElement("div",{className:"brand-logo-container"},r.a.createElement("img",{src:n,style:{objectFit:"contain"},alt:"brand-logo"})))},et=(a(162),function(e){var t=e.show,a=e.backgroundColor;return r.a.createElement("div",{className:"no-results-container ".concat(t?"show-no-results":""),style:{backgroundColor:a}},r.a.createElement("div",{className:"no-results-content-container"},r.a.createElement(Z,{width:180,height:68}),r.a.createElement("div",{className:"no-results-subtitle"},"No results found")))});et.defaultProps={show:!1,backgroundColor:"transparent"};var tt=et,at=Object(s.withRouter)(function(){var e=q()(),t=e.match,a=e.history,c=Object(n.useState)(null),o=Object(l.a)(c,2),i=o[0],s=o[1],u=Object(n.useState)(!0),m=Object(l.a)(u,2),d=m[0],f=m[1],v=Object(n.useState)(!1),b=Object(l.a)(v,2),g=b[0],y=b[1],k=Object(n.useState)(null),N=Object(l.a)(k,2),w=N[0],O=N[1],j=function(){var e=Object(h.a)(p.a.mark(function e(){return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return s(null),f(!0),e.next=4,C();case 4:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),x=function(){var e=Object(h.a)(p.a.mark(function e(t){return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return s(null),y(!0),e.next=4,C(t);case 4:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}();Object(n.useEffect)(function(){t.params.category&&(j(),"adidas"===t.params.category?O(Ve.a):"puma"===t.params.category?O(Ke.a):"nike"===t.params.category&&O(We.a))},[t]),Object(n.useEffect)(function(){if(i)if(i.length>0){for(var e=!0,t=0;t<i.length;t+=1)if(!i[t].loaded){e=!1;break}e&&(d&&f(!1),g&&y(!1))}else d&&f(!1),g&&y(!1)},[i]);var S=function(e){return e.map(function(e){return{id:e._id.$oid,image_url:e.image_url,name:e.name,price:e.price,currency:e.currency,short_description:e.short_description,description:e.description,loaded:!1}})},C=function(){var e=Object(h.a)(p.a.mark(function e(a){var n;return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!a){e.next=7;break}return e.next=4,Q.products.search({query:a,urlParams:{tags:"".concat(t.params.category,"+product")}});case 4:n=e.sent,e.next=10;break;case 7:return e.next=9,Q.products.get({urlParams:{tags:"".concat(t.params.category,"+product")}});case 9:n=e.sent;case 10:s(S(n)),e.next=18;break;case 13:e.prev=13,e.t0=e.catch(0),d&&f(!1),g&&y(!1),_e("Failed to fetch products",{type:"error"});case 18:case"end":return e.stop()}},e,null,[[0,13]])}));return function(t){return e.apply(this,arguments)}}();return r.a.createElement("div",{className:"main-container"},r.a.createElement(Ce,null),r.a.createElement("div",{className:"product-list-wrapper"},r.a.createElement(ze,{show:d}),r.a.createElement($e,{show:!d,onSearchChange:function(e){return x(e)},brandLogo:w,searchLoading:g}),r.a.createElement(Ie.a,{className:"product-list-grid"},i&&i.map(function(e,n){return function(e,n){return r.a.createElement(Ge.a,{key:"product_image_".concat(e.image_url),timeout:250,classNames:"item"},r.a.createElement("div",{className:"product-container ".concat(d?"hide-product":"show-product"),onClick:function(){return a.push("/product_list/".concat(t.params.category,"/").concat(e.id))}},r.a.createElement("img",{onLoad:function(){i[n].loaded=!0,s(Object(E.a)(i))},alt:"".concat(e.name,"-product"),src:"".concat(I.endpoint,"images/").concat(e.image_url,"?api_key=").concat(I.apiKey)}),r.a.createElement("div",{className:"product-description"},r.a.createElement("div",{className:"product-description-inner-container"},r.a.createElement("div",null,be(e.name)),r.a.createElement("div",null,e.short_description)),r.a.createElement("div",{className:"product-price-container"},e.price," ",e.currency))))}(e,n)})),r.a.createElement(tt,{show:i&&0===i.length})),r.a.createElement(Ze,null,r.a.createElement("div",{className:"footer-inner"},"*Note: The products and the ordering system is fictional. None of the illustrated products exists and can be ordered. Please use only for demo purposes and refer to"," ",r.a.createElement("a",{href:"https://builton.dev",rel:"noopener noreferrer",target:"_blank"},"Builton.dev"),".")))}),nt=(a(165),Object(s.withRouter)(function(){var e=q()().match,t=Object(n.useState)(null),a=Object(l.a)(t,2),c=a[0],o=a[1],i=Object(n.useState)(!0),s=Object(l.a)(i,2),u=s[0],m=s[1],d=Object(n.useState)(null),f=Object(l.a)(d,2),v=f[0],E=f[1],g=Object(b.useDispatch)("addItemToBag");Object(n.useEffect)(function(){var t=function(){var t=Object(h.a)(p.a.mark(function t(){var a;return p.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Q.products.get(e.params.productId,{urlParams:{expand:"_sub_products"}});case 3:a=t.sent,o(a),t.next=11;break;case 7:t.prev=7,t.t0=t.catch(0),m(!1),_e("Failed to fetch product",{type:"error"});case 11:case"end":return t.stop()}},t,null,[[0,7]])}));return function(){return t.apply(this,arguments)}}();u||m(!0),t()},[e.params.productId]);var y=function(){var t=Object(h.a)(p.a.mark(function t(){return p.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(v){t.next=4;break}_e("Please select your desired size.",{type:"warning"}),t.next=13;break;case 4:return t.prev=4,t.next=7,g({product:c,size:v,category:e.params.category});case 7:_e("".concat(c.name," successfully added to your bag."),{type:"info"}),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(4),_e("Failed to add ".concat(c.name," to your bag."),{type:"error"});case 13:case"end":return t.stop()}},t,null,[[4,10]])}));return function(){return t.apply(this,arguments)}}();return r.a.createElement("div",{className:"main-container"},r.a.createElement(Ce,null),r.a.createElement("div",{className:"product-wrapper"},r.a.createElement(ze,{show:u}),r.a.createElement("div",{className:"product-image-container"},c&&r.a.createElement("div",{className:"product-image-inner-container ".concat(u?"hide-product":"show-product")},r.a.createElement("div",null,r.a.createElement("img",{onLoad:function(){return m(!1)},onError:function(){return m(!1)},src:"".concat(I.endpoint,"images/").concat(c.image_url,"?api_key=").concat(I.apiKey),alt:"".concat(c.name,"-img")})))),r.a.createElement("div",{className:"product-description-container"},c&&r.a.createElement("div",{className:"product-description  ".concat(u?"hide-product":"show-product")},r.a.createElement("div",{className:"product-description-top"},r.a.createElement("div",{className:"product-title-container"},r.a.createElement("span",{className:"product-title"},be(c.name)),r.a.createElement("span",{className:"product-subtitle"},c.short_description)),r.a.createElement("div",{className:"product-description-content"},c.description),r.a.createElement("div",{className:"product-id"},"Article id: ",r.a.createElement("span",null,c.human_id)),r.a.createElement("div",{className:"product-sizes-container"},function(e){return e&&e._sub_products.length>0?e._sub_products.map(function(e){return!~e.short_description.toLowerCase().indexOf("size - ")||{id:e._id.$oid,product:e,size:e.short_description.slice(e.short_description.toLowerCase().indexOf("size - ")+"size - ".length)}}):[]}(c).sort(function(e,t){return parseFloat(e.size)<=parseFloat(t.size)?-1:0}).map(function(e){return r.a.createElement(je,{key:"prodSize-".concat(e.id),onClick:function(){return E(v&&v._id.$oid===e.id?null:e.product)},type:"button",style:{fontSize:14,padding:"4px 6px",marginTop:12,minWidth:80,height:24},title:e.size,className:"button ".concat(v&&v._id.$oid===e.id?"selected":"")})}))),r.a.createElement("div",{className:"add-to-cart-button-container"},r.a.createElement(je,{onClick:function(){return y()},type:"button",style:{minWidth:200},className:"button round",title:"Add to Bag"}))))))})),rt=(a(166),a(167),function(e){var t=e.onStep,a=e.onPlaceOrder,c=e.shouldNavigate,o=e.loading,i=q()(),s=i.match,u=i.history,d=Object(n.useState)(0),f=Object(l.a)(d,2),v=f[0],g=f[1],y=Object(n.useState)(!1),k=Object(l.a)(y,2),N=k[0],w=k[1],O=Object(b.useDispatch)("updateCheckoutStep"),j=Object(b.useGlobal)("checkout"),x=Object(l.a)(j,1)[0],S=Object(b.useGlobal)("user"),C=Object(l.a)(S,1)[0];Object(n.useEffect)(function(){C?1===v&&(P(),A(2)):v>1&&A(1)},[v]),Object(n.useEffect)(function(){if(x){var e=Object(E.a)(Object.values(x));if(s.params.step){for(var a=0,n=0;n<e.length;n+=1)if(s.params.step===e[n].title){if(N)a=1;else if(e[n-1]&&e[n-1].complete)a=n;else for(var r=n;r>=0;r-=1)e[r].complete||A(r);t(n),g(n);break}_(a)}}},[s.params.step]);var P=function(){var e=Object(h.a)(p.a.mark(function e(){var t;return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return(t=Object(m.a)({},x))[v].complete=!0,e.next=4,O(t);case 4:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),A=function(){var e=Object(h.a)(p.a.mark(function e(t){return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if((c(t)||t)&&!o){e.next=2;break}return e.abrupt("return",!1);case 2:if(t){e.next=5;break}return e.next=5,P();case 5:w(!0),setTimeout(function(){return u.push("/checkout/".concat(x["undefined"!==typeof t?t:v+1].title))});case 7:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),_=function(e){var t=document.getElementsByClassName("checkout-steps-container");if(t&&t[0]&&t[0].children)for(var a=t[0].children,n=0,r=1;r<a.length;r+=1){1===e&&1===v&&C?n=350:1===e?n=r>=0?0:350:n+=350;for(var c=0;c<a[r].children.length;c+=1)a[r].children[c].className.includes("checkout-step-progress")?a[r].children[c].children[0].style.transitionDelay="".concat(n,"ms"):a[r].children[c].className.includes("checkout-step-circle")&&(a[r].children[c].children[0].style.animationDelay="".concat(n+350,"ms"))}};return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"checkout-steps-container"},r.a.createElement("div",{className:"checkout-step ".concat(v>=0?"active-step":"")},r.a.createElement("div",{className:"checkout-step-circle",onClick:function(){return v>=0&&A(0)}},r.a.createElement("div",null)),r.a.createElement("div",{className:"checkout-step-title"},"Your bag")),r.a.createElement("div",{className:"checkout-step ".concat(v>=1?"active-step":"")},r.a.createElement("div",{className:"checkout-step-progress"},r.a.createElement("div",null)),r.a.createElement("div",{className:"checkout-step-circle",onClick:function(){return v>=1&&A(1)}},r.a.createElement("div",null)),r.a.createElement("div",{className:"checkout-step-title"},"Authentication")),r.a.createElement("div",{className:"checkout-step ".concat(v>=2?"active-step":"")},r.a.createElement("div",{className:"checkout-step-progress"},r.a.createElement("div",null)),r.a.createElement("div",{className:"checkout-step-circle",onClick:function(){return v>=2&&A(2)}},r.a.createElement("div",null)),r.a.createElement("div",{className:"checkout-step-title"},"Payment method")),r.a.createElement("div",{className:"checkout-step ".concat(v>=3?"active-step":"")},r.a.createElement("div",{className:"checkout-step-progress"},r.a.createElement("div",null)),r.a.createElement("div",{className:"checkout-step-circle",onClick:function(){return v>=3&&A(3)}},r.a.createElement("div",null)),r.a.createElement("div",{className:"checkout-step-title"},"Delivery address")),r.a.createElement("div",{className:"checkout-step ".concat(v>=4?"active-step":"")},r.a.createElement("div",{className:"checkout-step-progress"},r.a.createElement("div",null)),r.a.createElement("div",{className:"checkout-step-circle",onClick:function(){return v>=4&&A(4)}},r.a.createElement("div",null)),r.a.createElement("div",{className:"checkout-step-title"},"Confirmation"))),1!==v&&r.a.createElement("div",{className:"checkout-next-step"},r.a.createElement(je,{loading:o,type:"button",onClick:function(){return 4===v?a():A()},title:4===v?"Place order":"Next"})))});rt.defaultProps={loading:!1};var ct=rt,ot=(a(168),function(e){var t=e.title,a=e.style,n=e.type;return r.a.createElement("div",{className:"section-header-container ".concat(n),style:a},t)});ot.defaultProps={style:{},type:"main"};var lt=ot,it=(a(169),function(e){var t=e.children,a=e.onClick,n=e.style,c=e.className;return r.a.createElement("div",{className:"table-row ".concat(a?"clickable-row":""," ").concat(c),style:n,onClick:a},t)});it.defaultProps={onClick:void 0,style:{},className:""};var st=it,ut=(a(170),function(e){var t=e.children,a=e.className,n=e.style;return r.a.createElement("div",{className:"table-header ".concat(a),style:n},t)});ut.defaultProps={className:"",style:{}};var mt=ut,dt=(a(171),function(e){var t=e.children;return r.a.createElement("div",{className:"table"},t)}),pt=function(){var e=Object(b.useGlobal)("bag"),t=Object(l.a)(e,1)[0],a=Object(b.useDispatch)("removeItemFromBag"),n=q()().history,c=function(e,t){return r.a.createElement(st,{key:"bag-item-".concat(e.product.id,"-").concat(t),style:{padding:"6px 12px"},onClick:function(){return n.push("/product_list/".concat(e.category,"/").concat(e.product._id.$oid))}},r.a.createElement("div",{className:"checkout-name-col"},be(e.product.name)),r.a.createElement("div",{className:"checkout-description-col"},e.product.short_description),r.a.createElement("div",{className:"checkout-size-col"},ge(e.size)),r.a.createElement("div",{className:"checkout-price-col"},e.product.price," ",e.product.currency),r.a.createElement("div",{className:"checkout-remove-col"},r.a.createElement("div",{className:"remove-bag-item",onClick:function(t){return function(e,t){e.stopPropagation(),a(t)}(t,e.size._id.$oid)}},r.a.createElement(ke,{color:"#c5c5c5"}))))};return t?r.a.createElement(r.a.Fragment,null,r.a.createElement(lt,{title:"Your items"}),r.a.createElement(dt,null,r.a.createElement(mt,{className:"checkout-items-header"},r.a.createElement("div",{className:"checkout-name-col"},"Brand"),r.a.createElement("div",{className:"checkout-description-col"},"Model"),r.a.createElement("div",{className:"checkout-size-col"},"Size"),r.a.createElement("div",{className:"checkout-price-col"},"Price"),r.a.createElement("div",{className:"checkout-remove-col"})),t&&t.map(function(e,t){return c(e,t)}),r.a.createElement(st,{className:"checkout-bag-total-row"},r.a.createElement("div",{className:"checkout-bag-total-title"},"Total"),r.a.createElement("div",{className:"checkout-bag-total"},function(){for(var e=0,a=0;a<t.length;a+=1)e+=t[a].product.price;return e}()," ",t[0].product.currency),r.a.createElement("div",{className:"checkout-bag-empty"})))):null},ht=function(){var e=q()().history,t=Object(b.useGlobal)("checkout"),a=Object(l.a)(t,1)[0],n=Object(b.useDispatch)("updateCheckoutStep");return r.a.createElement(Te,{onAuth:function(){var t=Object(m.a)({},a);t[1].complete=!0,n(t),e.push("/checkout/payment_method")}})},ft=(a(172),function(e){var t=e.children,a=e.onClick;return r.a.createElement("div",{onClick:a,className:"list-item-row"},t)});ft.defaultProps={onClick:function(){}};var vt=ft,Et=function(){var e=Object(n.useState)(null),t=Object(l.a)(e,2),a=t[0],c=t[1],o=Object(n.useState)(!0),i=Object(l.a)(o,2),s=i[0],u=i[1],d=Object(b.useGlobal)("user"),f=Object(l.a)(d,1)[0],v=Object(b.useGlobal)("order"),E=Object(l.a)(v,1)[0],g=Object(b.useDispatch)("updateOrder"),y=Object(b.useDispatch)("updatePaymentMethod"),k=function(){var e=Object(h.a)(p.a.mark(function e(){var t,a;return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(f){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,Q.paymentMethods.get();case 5:if((t=e.sent).length){e.next=14;break}return e.next=9,Q.paymentMethods.create({body:{payment_method:"stripe",token:"tok_visa"}});case 9:a=e.sent,c(a),N(a),e.next=16;break;case 14:c(t[0]),N(t[0]);case 16:u(!1),e.next=23;break;case 19:e.prev=19,e.t0=e.catch(2),_e("Failed to get payment method",{type:"error"}),u(!1);case 23:case"end":return e.stop()}},e,null,[[2,19]])}));return function(){return e.apply(this,arguments)}}(),N=function(e){y(e),g(Object(m.a)({},E,{payment_method:e._id.$oid}))};return Object(n.useEffect)(function(){k()},[]),r.a.createElement(r.a.Fragment,null,r.a.createElement(lt,{title:"Payment method"}),s&&r.a.createElement("div",{className:"checkout-spinner-container"},r.a.createElement(we,{height:32,width:32})),r.a.createElement(lt,{title:"Selected payment method",type:"sub"}),!s&&a&&r.a.createElement(vt,null,r.a.createElement("div",{className:"checkout-list-item-left"},r.a.createElement("div",{className:"checkout-payment-card-number"},"**** **** **** ",a.card.last4),r.a.createElement("div",{className:"checkout-payment-method-card-name"},"John Doe")),r.a.createElement("div",{className:"checkout-list-item-right"},r.a.createElement("div",{className:"checkout-payment-card-exp-date"},a.card.exp_month," / ",a.card.exp_year),r.a.createElement("div",{className:"checkout-list-item-checkmark"},"\u2713"))))},bt=a(52),gt=a.n(bt),yt=function(e){var t={street_number:{type:"short_name",apiName:"street_name"},route:{type:"long_name",apiName:"street_name"},locality:{type:"long_name",apiName:"state"},country:{type:"long_name",apiName:"country"},postal_code:{type:"short_name",apiName:"zip_code"},administrative_area_level_1:{type:"short_name",apiName:"city"}},a={};return e.address_components.map(function(e){var n=e.types[0];if(t[n]){var r=t[n],c=e[t[n].type];a[r.apiName]&&a[r.apiName].length>0&&(c=a[r.apiName]+" "+c),a[r.apiName]=c}return!0}),a.geo=[e.geometry.location.lat(),e.geometry.location.lng()],a},kt=function(){var e=Object(b.useGlobal)("order"),t=Object(l.a)(e,1)[0],a=Object(n.useState)(t.delivery_address),c=Object(l.a)(a,2),o=c[0],i=c[1],s=Object(n.useState)(""),u=Object(l.a)(s,2),d=u[0],f=u[1],v=Object(b.useDispatch)("updateOrder"),E=function(){var e=Object(h.a)(p.a.mark(function e(a){var n,r;return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return f(""),e.prev=1,e.next=4,Object(bt.geocodeByAddress)(a);case 4:n=e.sent,r=yt(n[0]),v(Object(m.a)({},t,{delivery_address:r})),i(r),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(1),_e("Failed to get address",{type:"error"}),i(void 0);case 14:case"end":return e.stop()}},e,null,[[1,10]])}));return function(t){return e.apply(this,arguments)}}();return r.a.createElement(r.a.Fragment,null,r.a.createElement(lt,{title:"Delivery address"}),r.a.createElement(gt.a,{value:d,onChange:function(e){f(e)},onSelect:E,debounce:1e3},function(e){var t=e.getInputProps,a=e.suggestions,n=e.getSuggestionItemProps,c=e.loading;return r.a.createElement("div",{className:"checkout-address-picker-container"},r.a.createElement("div",{className:"checkout-address-search-container"},r.a.createElement(Le,{leftAdornment:r.a.createElement(Ye,{width:22,height:22,color:"rgb(141, 141, 141)"}),id:"delivery_address_input",inputProps:Object(m.a)({},t(),{onChange:function(e,a){t().onChange(a)}}),loading:c,placeholder:"Search address...",colorScheme:1})),r.a.createElement("div",{className:"autocomplete-dropdown-container ".concat(a.length>0?"show-suggestions":"")},c&&r.a.createElement("div",{className:"checkout-address-spinner-container"},r.a.createElement(we,null)),a.map(function(e){var t=e.active?"suggestion-item suggestion-item--active":"suggestion-item";return r.a.createElement("div",n(e,{className:t}),r.a.createElement("span",null,e.description))})))}),r.a.createElement(lt,{title:"Selected delivery address",type:"sub"}),r.a.createElement("div",null,o&&r.a.createElement(vt,null,r.a.createElement("div",{className:"checkout-list-item-left"},r.a.createElement("div",null,o.street_name),r.a.createElement("div",{className:"checkout-address-city"},r.a.createElement("div",null,o.zip_code),r.a.createElement("div",null,o.city))),r.a.createElement("div",{className:"checkout-list-item-right"},r.a.createElement("div",null,o.country),r.a.createElement("div",{className:"checkout-list-item-checkmark"},"\u2713")))))},Nt=function(){var e=Object(b.useGlobal)("order"),t=Object(l.a)(e,1)[0],a=Object(b.useGlobal)("bag"),n=Object(l.a)(a,1)[0],c=Object(b.useGlobal)("paymentMethod"),o=Object(l.a)(c,1)[0],i=q()().history,s=function(e,t){return r.a.createElement("div",{className:"checkout-bag-item-row",key:"bag-item-".concat(e.product.id,"-").concat(t),onClick:function(){return i.push("/checkout/bag")}},r.a.createElement("div",{className:"checkout-name-col"},be(e.product.name)),r.a.createElement("div",{className:"checkout-description-col"},e.product.short_description),r.a.createElement("div",{className:"checkout-size-col"},ge(e.size)),r.a.createElement("div",{className:"checkout-price-col"},e.product.price," ",e.product.currency))};return r.a.createElement("div",{className:"checkout-overview-container"},r.a.createElement(lt,{title:"Order Overview"}),n&&r.a.createElement("div",{className:"checkout-overview-sub-container"},r.a.createElement("div",{className:"checkout-items-header"},r.a.createElement("div",{className:"checkout-name-col"},"Brand"),r.a.createElement("div",{className:"checkout-description-col"},"Model"),r.a.createElement("div",{className:"checkout-size-col"},"Size"),r.a.createElement("div",{className:"checkout-price-col"},"Price")),n&&n.map(function(e,t){return s(e,t)})),o&&r.a.createElement("div",{className:"checkout-overview-sub-container"},r.a.createElement(lt,{title:"Selected payment method",type:"sub"}),r.a.createElement(vt,{onClick:function(){return i.push("/checkout/payment_method")}},r.a.createElement("div",{className:"checkout-list-item-left"},r.a.createElement("div",{className:"checkout-payment-card-number"},"**** **** **** ",o.card.last4),r.a.createElement("div",{className:"checkout-payment-method-card-name"},"John Doe")),r.a.createElement("div",{className:"checkout-list-item-right"},r.a.createElement("div",{className:"checkout-payment-card-exp-date"},o.card.exp_month," / ",o.card.exp_year),r.a.createElement("div",{className:"checkout-list-item-checkmark"},"\u2713")))),t.delivery_address&&r.a.createElement("div",{className:"checkout-overview-sub-container"},r.a.createElement(lt,{title:"Selected delivery address",type:"sub"}),r.a.createElement(vt,{onClick:function(){return i.push("/checkout/delivery_address")}},r.a.createElement("div",{className:"checkout-list-item-left"},r.a.createElement("div",null,t.delivery_address.street_name),r.a.createElement("div",{className:"checkout-address-city"},r.a.createElement("div",null,t.delivery_address.zip_code),r.a.createElement("div",null,t.delivery_address.city))),r.a.createElement("div",{className:"checkout-list-item-right"},r.a.createElement("div",null,t.delivery_address.country),r.a.createElement("div",{className:"checkout-list-item-checkmark"},"\u2713")))),r.a.createElement("div",{className:"checkout-bag-total-row"},r.a.createElement("div",{className:"checkout-bag-total-title"},"Total"),r.a.createElement("div",{className:"checkout-bag-total"},function(){for(var e=0,t=0;t<n.length;t+=1)e+=n[t].product.price;return e}()," ",n[0].product.currency)))},wt=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"checkout-disclaimer-container"},r.a.createElement("span",null,"This is a DEMO to showcase Builton.dev API functionality. The products, prices, payment method, checkout process and its affiliates are fictional. No charges and deliveries will be made. For more information please check"," ",r.a.createElement("a",{href:"https://builton.dev",target:"_blank",rel:"noopener noreferrer"},"Builton.dev")," ","website.")))},Ot=Object(s.withRouter)(function(){var e=Object(n.useState)(null),t=Object(l.a)(e,2),a=t[0],c=t[1],o=Object(n.useState)(!1),i=Object(l.a)(o,2),s=i[0],u=i[1],d=Object(n.useState)(!1),f=Object(l.a)(d,2),v=f[0],E=f[1],g=Object(b.useGlobal)("bag"),y=Object(l.a)(g,1)[0],k=Object(b.useGlobal)("order"),N=Object(l.a)(k,1)[0],w=Object(b.useDispatch)("updateOrder"),O=Object(b.useDispatch)("clearCheckout"),j=Object(b.useDispatch)("clearBag"),x=q()().history;Object(n.useEffect)(function(){if(1===a&&y&&y.length>0){N.items=[];for(var e=0;e<y.length;e+=1)N.items.push({product:y[e].product._id.$oid,quantity:1,sub_product:[y[e].size._id.$oid]});w(N)}5===a&&u(!1)},[a]),Object(n.useEffect)(function(){s&&S()},[s]);var S=function(){var e=Object(h.a)(p.a.mark(function e(){return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return E(!0),e.prev=1,e.next=4,Q.orders.create({body:Object(m.a)({},N)});case 4:x.push("/"),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),_e("Failed to create order",{type:"error"});case 10:return E(!1),e.next=13,O();case 13:return e.next=15,j();case 15:case"end":return e.stop()}},e,null,[[1,7]])}));return function(){return e.apply(this,arguments)}}();return r.a.createElement("div",{className:"main-container"},r.a.createElement(Ce,null),r.a.createElement("div",{className:"wrapper"},r.a.createElement("div",{className:"checkout-container"},r.a.createElement("div",{className:"checkout-items-container checkout-no-items-container ".concat(y&&0!==y.length?"hide-container":"show-container")},(!y||0===y.length)&&r.a.createElement("div",{className:"checkout-no-items"},r.a.createElement(Z,{width:160,height:80}),"No items in the bag")),y&&y.length>0&&r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"checkout-inner-container"},y&&y.length>0&&r.a.createElement(r.a.Fragment,null),r.a.createElement("div",{className:"checkout-items-container ".concat(0===a?"show-container":"hide-container")},0===a&&r.a.createElement(pt,null)),r.a.createElement("div",{className:"checkout-items-container ".concat(1===a?"show-container":"hide-container")},r.a.createElement("div",{className:"step-auth-container"},1===a&&r.a.createElement(ht,null))),r.a.createElement("div",{className:"checkout-items-container ".concat(2===a?"show-container":"hide-container")},(2===a||4===a)&&r.a.createElement(Et,null)),r.a.createElement("div",{className:"checkout-items-container ".concat(3===a?"show-container":"hide-container")},3===a&&r.a.createElement(kt,null)),r.a.createElement("div",{className:"checkout-items-container ".concat(4===a?"show-container":"hide-container")},4===a&&r.a.createElement(Nt,null)),r.a.createElement("div",{className:"checkout-items-container ".concat(5===a?"show-container":"hide-container")},5===a&&r.a.createElement(wt,null))),r.a.createElement("div",{className:"checkout-nav-container"},r.a.createElement(ct,{loading:v,shouldNavigate:function(e){return function(e){return!(3===a&&"undefined"===typeof e&&!N.delivery_address)||(_e("Please select delivery address to proceed",{type:"warning"}),!1)}(e)},onPlaceOrder:function(){return 5===a?u(!0):c(5)},onStep:function(e){return c(e)}}))))))}),jt=(a(177),function(e){var t=new Date(e);return"".concat(t.toLocaleDateString()," at ").concat(t.toLocaleTimeString())}),xt=function(e){return"PENDING"===e?"undetermined":"CANCELLED"===e?"negative":"positive"},St=function(){var e=Object(n.useState)(!0),t=Object(l.a)(e,2),a=t[0],c=t[1],o=Object(n.useState)(void 0),i=Object(l.a)(o,2),s=i[0],u=i[1],m=q()().history;Object(n.useEffect)(function(){d()},[]);var d=function(){var e=Object(h.a)(p.a.mark(function e(){var t;return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Q.users.setMe().getOrders();case 3:t=e.sent,u(t),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),_e("Failed to fetch orders. Please try again.",{type:"error"});case 10:c(!1);case 11:case"end":return e.stop()}},e,null,[[0,7]])}));return function(){return e.apply(this,arguments)}}();return r.a.createElement(r.a.Fragment,null,a&&r.a.createElement("div",{className:"spinner-container"},r.a.createElement(we,null)),!a&&s.length>0&&r.a.createElement(r.a.Fragment,null,r.a.createElement(lt,{title:"My Orders"}),r.a.createElement(dt,null,r.a.createElement(mt,null,r.a.createElement("div",{className:"human-id--row"},"#id"),r.a.createElement("div",{className:"delivery-status--row"},"Delivery status"),r.a.createElement("div",{className:"created--row"},"Created"),r.a.createElement("div",{className:"amount--row"},"Amount")),s&&s.map(function(e){return r.a.createElement(st,{key:"order-".concat(e.human_id),onClick:function(){return m.push("/my-account/my-orders/".concat(e._id.$oid))}},r.a.createElement("div",{className:"human-id--row"},e.human_id),r.a.createElement("div",{className:"delivery-status--row ".concat(xt(e.delivery_status))},e.delivery_status),r.a.createElement("div",{className:"created--row"},jt(e.created.$date)),r.a.createElement("div",{className:"amount--row"},e.total_amount," ",e.currency))}))),!a&&0===s.length&&r.a.createElement("div",{className:"no-orders"},r.a.createElement(Z,{width:160,height:120}),"No orders found."))},Ct=function(){var e=Object(b.useGlobal)("user"),t=Object(l.a)(e,1)[0],a=Object(b.useDispatch)("updateUser"),n=function(e){var t=e.name;return r.a.createElement("div",{className:"form-error-container"},r.a.createElement(Fe.a,{name:t,subscription:{error:!0,touched:!0}},function(e){var t=e.meta,a=t.error,n=t.touched;return a&&n?r.a.createElement("span",null,a):null}))},c=function(){var e=Object(h.a)(p.a.mark(function e(t){var n;return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Q.users.setMe().update({body:t});case 3:n=e.sent,a(n),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),_e("Failed to update user. Please try again.",{type:"error"});case 10:case"end":return e.stop()}},e,null,[[0,7]])}));return function(t){return e.apply(this,arguments)}}();return r.a.createElement(r.a.Fragment,null,r.a.createElement(lt,{title:"My Profile"}),r.a.createElement(lt,{title:"General settings",type:"sub"}),r.a.createElement("div",{className:"form-content-container"},r.a.createElement(Fe.b,{onSubmit:c,initialValues:{first_name:t.first_name,last_name:t.last_name,email:t.email},validate:function(e){return function(e){var t={};return e.email||(t.email="Required"),t}(e)}},function(e){var t=e.handleSubmit,a=e.submitting;return r.a.createElement("form",{onSubmit:t,className:"form-container"},r.a.createElement("div",{className:"input"},r.a.createElement(Fe.a,{name:"first_name",type:"text",render:function(e){var t=e.input;return r.a.createElement(Le,{id:"input-1",inputProps:t,submitting:a,colorScheme:1,placeholder:"First Name"})}}),r.a.createElement(n,{name:"first_name"})),r.a.createElement("div",{className:"input"},r.a.createElement(Fe.a,{name:"last_name",type:"text",render:function(e){var t=e.input,n=e.meta;return r.a.createElement(Le,{id:"input-2",inputProps:t,meta:n,submitting:a,colorScheme:1,placeholder:"Last Name"})}}),r.a.createElement(n,{name:"last_name"})),r.a.createElement("div",{className:"input"},r.a.createElement(Fe.a,{name:"email",type:"email",render:function(e){var t=e.input,n=e.meta;return r.a.createElement(Le,{id:"input-3",inputProps:t,submitting:a,meta:n,colorScheme:1,placeholder:"Email"})}}),r.a.createElement(n,{name:"email"})),r.a.createElement("div",{className:"button-container"},r.a.createElement(je,{type:"submit",className:"button round",loading:a,title:"Save"})))})))},Pt=Object(s.withRouter)(function(){var e=q()(),t=e.match,a=e.history,c=Object(n.useState)("my-profile"),o=Object(l.a)(c,2),i=o[0],s=o[1];return Object(n.useEffect)(function(){t.params.menuId&&s(t.params.menuId)},[t.params.menuId]),r.a.createElement("div",{className:"main-container"},r.a.createElement(Ce,null),r.a.createElement("div",{className:"my-account-wrapper"},r.a.createElement("div",{className:"my-account-menu-container"},r.a.createElement("div",{className:"my-account-menu-wrapper"},r.a.createElement("div",{onClick:function(){return a.push("/my-account/my-profile")},className:"".concat("my-profile"===i?"active-menu-item":"")},"My Profile"),r.a.createElement("div",{onClick:function(){return a.push("/my-account/my-orders")},className:"".concat("my-orders"===i?"active-menu-item":"")},"My Orders"))),r.a.createElement("div",{className:"my-account-content-container"},r.a.createElement("div",{className:"my-account-content my-profile-content ".concat("my-profile"===i?"show-my-account":"hide-my-account")},"my-profile"===i&&r.a.createElement(Ct,null)),r.a.createElement("div",{className:"my-account-content ".concat("my-orders"===i?"show-my-account":"hide-my-account")},"my-orders"===i&&r.a.createElement(St,null)))))}),At=(a(178),Object(s.withRouter)(function(){var e=Object(n.useState)(void 0),t=Object(l.a)(e,2),a=t[0],c=t[1],o=Object(n.useState)(!0),i=Object(l.a)(o,2),s=i[0],u=i[1],m=q()().match;Object(n.useEffect)(function(){m.params.orderId&&function(){var e=Object(h.a)(p.a.mark(function e(){var t;return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Q.orders.get(m.params.orderId,{urlParams:{expand:"payments,items.product,payments.payment_method"}});case 3:t=e.sent,c(t),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),_e("Failed to fetch order. Please try again",{type:"error"});case 10:u(!1);case 11:case"end":return e.stop()}},e,null,[[0,7]])}));return function(){return e.apply(this,arguments)}}()()},[m.params.orderId]);return r.a.createElement("div",{className:"main-container"},r.a.createElement(Ce,null),r.a.createElement("div",{className:"my-order-wrapper"},r.a.createElement(ze,{show:s}),r.a.createElement("div",{className:"my-order-container"},!s&&a&&r.a.createElement(r.a.Fragment,null,r.a.createElement(lt,{title:"Order #".concat(a.human_id)}),r.a.createElement("div",{className:"my-order-inner-container"},r.a.createElement("div",{className:"my-order-general"},r.a.createElement(lt,{title:"General information",type:"sub"}),r.a.createElement("div",{className:"my-order-general-row"},r.a.createElement("div",{className:"my-order-left"},"Order Created"),r.a.createElement("div",{className:"my-order-right"},jt(a.created.$date))),r.a.createElement("div",{className:"my-order-general-row"},r.a.createElement("div",{className:"my-order-left"},"Order Status"),r.a.createElement("div",{className:"my-order-right ".concat(xt(a.delivery_status))},a.delivery_status)),r.a.createElement("div",{className:"my-order-general-row"},r.a.createElement("div",{className:"my-order-left"},"Delivery address"),r.a.createElement("div",{className:"my-order-right"},function(e){if(e){var t="";return e.street_name&&(t+=e.street_name+(e.building?" ":", ")),e.street_name&&e.building&&(t+=e.building+", "),e.zipcode&&(t+=e.zipcode+" "),e.city&&(t+=e.city+", "),e.state&&e.state!==e.city&&(t+=e.state+", "),e.country&&(t+=e.country),t}}(a.delivery_address)))),r.a.createElement("div",{className:"my-order-payment-method"},r.a.createElement(lt,{title:"Payment method",type:"sub"}),a.payments.map(function(e){return("created"===e.current_state||"success"===e.current_state)&&r.a.createElement(vt,{key:"order-payment-".concat(e._id.$oid)},r.a.createElement("div",{className:"payment-method-left "},r.a.createElement("div",{className:"payment-card-number"},"**** **** **** ",a.payments[0].payment_method.card.last4),r.a.createElement("div",{className:"payment-method-card-name"},"John Doe")),r.a.createElement("div",{className:"payment-method-right"},r.a.createElement("div",{className:"payment-card-exp-date"},a.payments[0].payment_method.card.exp_month," / ",a.payments[0].payment_method.card.exp_year),r.a.createElement("div",{className:"payment-method-checkmark"},"\u2713")))})),r.a.createElement("div",{className:"my-order-products"},r.a.createElement(lt,{title:"Products",type:"sub"}),r.a.createElement(dt,null,r.a.createElement(mt,null,r.a.createElement("div",{className:"my-order-product-img"},"#"),r.a.createElement("div",{className:"my-order-product-name"},"Name"),r.a.createElement("div",{className:"my-order-product-price"},"Price")),a.items.map(function(e,t){return r.a.createElement(st,{key:"product-item-".concat(e.product._id.$oid,"-").concat(t)},r.a.createElement("div",{className:"my-order-product-img row"},r.a.createElement("img",{src:"".concat(I.endpoint,"images/").concat(e.product.image_url,"?api_key=").concat(I.apiKey),alt:"".concat(e.name,"-img")})),r.a.createElement("div",{className:"my-order-product-name"},e.product.name),r.a.createElement("div",{className:"my-order-product-price row"},e.product.price," ",e.product.currency))}),r.a.createElement(st,{className:"product-total-row"},r.a.createElement("div",{className:"product-total-title"},"Total"),r.a.createElement("div",{className:"product-total"},function(){var e=0;if(a)for(var t=0;t<a.items.length;t+=1)e+=a.items[t].product.price;return e}()," ",a.currency)))))))))})),_t=(a(179),function(e){var t=e.component,a=Object(i.a)(e,["component"]),n=Object(b.useGlobal)("user"),c=Object(l.a)(n,1)[0];return r.a.createElement(s.Route,Object.assign({},a,{render:function(e){return function(e){return"/auth"===e.match.path?c?r.a.createElement(s.Redirect,{to:"/"}):r.a.createElement(Ue,null):c?r.a.createElement(t,e):r.a.createElement(s.Redirect,{to:"/auth"})}(e)}}))}),Dt=function(){return r.a.createElement("div",{style:{display:"flex",flex:1}},r.a.createElement(u.a,null,r.a.createElement(s.Switch,null,r.a.createElement(s.Route,{exact:!0,path:"/",component:Me}),r.a.createElement(_t,{exact:!0,component:Me,path:"/auth"}),r.a.createElement(s.Route,{exact:!0,path:"/product_list/:category",component:at}),r.a.createElement(s.Route,{exact:!0,path:"/product_list/:category/:productId",component:nt}),r.a.createElement(s.Route,{exact:!0,path:"/checkout/:step",component:Ot}),r.a.createElement(_t,{exact:!0,path:"/my-account/:menuId",component:Pt}),r.a.createElement(_t,{exact:!0,path:"/my-account/my-orders/:orderId",component:At}),r.a.createElement(s.Route,{render:function(){return r.a.createElement(s.Redirect,{to:"/"})}}))),r.a.createElement(Ae.a,{style:{top:"4rem"}}))};o.a.render(r.a.createElement(Dt,null),document.getElementById("root"))},64:function(e){e.exports={endpoint:"https://shareactor-backend-qa.herokuapp.com/",apiKey:"ElkKqIR8IVkDEqNmmPiEWxJcDS8I7H1WEemECGcqmzu71RbVNiSBGguHuZsnoVA1HuGGWNtSjcwOLSScqQjf1A==",stripeKey:"pk_test_rGHyeR9eNSTf3Oj0xUM1qaz600IeOP0ewY",firebase:{apiKey:"AIzaSyDzNiAaoYnS2kxmaTDDN4T_mPNsTo8Bch0",authDomain:"builton-demo-store.firebaseapp.com"}}},70:function(e,t){e.exports="data:image/png;base64,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"},71:function(e,t,a){e.exports=a.p+"static/media/adidas-logo.b6e2ef89.png"},72:function(e,t,a){e.exports=a.p+"static/media/nike-logo.aadac220.png"},77:function(e,t,a){e.exports=a(180)},82:function(e,t,a){}},[[77,1,2]]]);
//# sourceMappingURL=main.fb2a0425.chunk.js.map